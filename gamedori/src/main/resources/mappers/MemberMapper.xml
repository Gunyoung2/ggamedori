<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="game.dori.mapper.memberMapper">

	<select id="selectByBno" resultType="memberVO"
		parameterType="int">
		select *
		from member_tb
		where member_idx = #{member_idx}
	</select>

	<select id="selectByEmail" resultType="memberVO">
		SELECT * FROM member_tb WHERE member_email = #{email}
	</select>

	<insert id="insert" parameterType="memberVO">
		insert into member_tb(
		MEMBER_EMAIL,
		MEMBER_EMAIL_KEY
		,MEMBER_PW
		,MEMBER_NAME
		, MEMBER_PHONE)
		values(
		#{member_email}
		,#{member_mail_key}
		,#{member_pw}
		,#{member_name}
		,#{member_phone} )
	</insert>

	<insert id="insertMember" parameterType="memberVO"
		useGeneratedKeys="true" keyProperty="member_idx">
		INSERT INTO member_tb(MEMBER_EMAIL, MEMBER_EMAIL_KEY, MEMBER_PW,
		MEMBER_NAME, MEMBER_PHONE)
		VALUES (#{member_email}, #{member_mail_key}, #{member_pw}, #{member_name},
		#{member_phone})
	</insert>

	<update id="updateMember" parameterType="memberVO">
		UPDATE member
		SET
		member_pw = #{member_pw},
		member_name = #{member_name},
		member_phone = #{member_phone},
		member_mail_yn = #{member_mail_yn}
		WHERE
		member_email = #{member_email}
	</update>
	
</mapper>